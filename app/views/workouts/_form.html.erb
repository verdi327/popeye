<%= form_for @workout do |f|  %>
  <% if @workout.errors.any? %>
    <div class="alert alert-danger">
      <button type="button" class="close" data-dismiss="alert">&times;</button>
      <strong>oh snap! found found some errors</strong>
      <ul>
      <% @workout.errors.messages.each do |attr, msg| %>
        <li><%= msg.first %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <fieldset>
    <div class="form-group">
      <%= f.label "Workout Name" %>
      <%= f.text_field :name, :class => "form-control", placeholder: "chest and back" %>
      <%= f.hidden_field :user_id, value: current_user.id %>
    </div>
  </fieldset>

  <h3>
    Exercises
    <%= link_to_add_association "<span class='icon-plus icon-large'></span>".html_safe, f, :exercises, data: {:"association-insertion-method" => "after" }, class: "btn btn-success btn-sm", id: "add-exercise" %>
  </h3>

  <%= f.fields_for :exercises do |builder| %>
    <%= render "exercise_fields", f: builder %>
  <% end %>
<% end %>
